<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>회비관리</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css">
<link rel="stylesheet" href="../../node_modules/bootstrap/dist/css/bootstrap.min.css">
<style>
/*상준님 css*/
.menu-container{
    margin-top: 80px;
    text-align: center;
    /* width: 100%; */
}
.menu-container{
    text-align: center;
    /* width: 100%; */
}
.group-title{
    margin: 10px 0;
    font-size: 24px;
    font-weight: bold;
    margin: 0,auto;
}
.group-cate-btn{
    background-color: #fff;
    border-radius: 3px;
    display: inline-block;
    width: 138px;
    height: 40px;
    margin: 5px 5px;
    font-size: 12px;
    overflow: hidden;
}
/*상준님 css 끝*/

/*내꺼 css*/
#body-content{
  width: 1130px auto;
  margin: 100px 150px; 
}
#select{
  display: inline-block;
  width: 150px;
}
table > thead {
  text-align: center;
}
table > tbody > tr > td {
  text-align: center;
}
</style>
</head>

<body>

<!--공통헤더-->
<div id="headers"></div>

<!--공통헤더 제이쿼리-->
<script type="text/javascript">
  $(document).ready(function () {
      $('#headers').load('../../junho/main2.html'); //헤더 인클루드
      // $('#footers').load('../html'); //푸터부분 인클루드
  });
</script>

<!--상준님 모임 헤더-->
<div id="container">
  <div class="menu-container">
    <div class="group-title"><span>모임이름</span></div>
    <button class="group-cate-btn" type="button">모임정보수정</button>
    <button class="group-cate-btn" type="button">게시글</button>
    <button class="group-cate-btn" type="button">사진첩</button>
    <button class="group-cate-btn" type="button">일정</button>
    <button class="group-cate-btn" type="button">첨부</button>
    <button class="group-cate-btn" type="button">멤버</button>
    <button class="group-cate-btn" type="button">회비 및 정산관리</button>
  </div>
</div>
<!--상준님 모임 헤더 끝--> 

<div id="body-content"> <!--body content 시작-->
  <div id="select"> <!--회비 종류 카테고리 시작-->
    <select class="form-select form-select-sm" aria-label=".form-select-sm example">
      <option selected>유형선택</option>
      <option value="1">회비</option>
      <option value="2">모임비</option>
      <option value="3">기타</option>
    </select>
  </div> <!--회비 종류 카테고리 끝-->
  
  <div id="content" class="table-responsive-lg">  <!--table div 시작-->
    <table id="x-board-table" class="table table-hover">
      <thead>
        <tr>
          <th width="50px">번호</th>
          <th width="100px">유형</th>
          <th width="600px">제목</th>
          <th width="100px">작성일</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <button id="x-create-btn" type="button" style="float: right" class="btn btn-primary">등록</button>
  </div> <!--table div 끝-->

  <!--페이지 네이션 시작-->
  <nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
      <li class="page-item disabled">
        <a class="page-link">Previous</a>
      </li>
      <li class="page-item"><a class="page-link" href="#">1</a></li>
      <li class="page-item"><a class="page-link" href="#">2</a></li>
      <li class="page-item"><a class="page-link" href="#">3</a></li>
      <li class="page-item">
        <a class="page-link" href="#">Next</a>
      </li>
    </ul>
  </nav>
  <!--페이지 네이션 끝-->
  
</div><!--body content 끝-->
<script src="../../node_modules/jquery/dist/jquery.min.js"></script>
<script src="../../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="../../node_modules/handlebars/dist/handlebars.min.js"></script>

<script type="text/javascript">
  $(document).ready(function () {
      $('#headers').load('../../junho/main2.html'); //헤더 인클루드
      // $('#footers').load('../html'); //푸터부분 인클루드
  });
</script>

<!--핸들바-->
<script id="tr-template" type="text/x-handlebars-template">
  {{#each this}}
  <tr>
    <td>{{no}}</td>
    <td>{{actCate.cateName}}</td>
    <td><a href="view.html?no={{no}}">{{title}}</a></td>
    <td>{{date}}</td>
  </tr>
  {{/each}}
</script>

<script>
  let tbody = document.querySelector("#x-board-table tbody")
  // console.log(tbody);
  var trTemplate = document.querySelector("#tr-template");
  
  var htmlGenerator = Handlebars.compile(trTemplate.innerHTML);

  fetch("/accounting/list")
    .then(function(response){
      return response.json();
    })
    .then(function(accountings){
      console.log(accountings) 
      tbody.innerHTML = htmlGenerator(accountings);
    });

    //form.html
  document.querySelector("#x-create-btn").onclick = function(){
    location.href="form.html";
  };
</script>

</body>
</html>