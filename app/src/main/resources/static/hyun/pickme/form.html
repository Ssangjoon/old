<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>pick me 글 작성</title>
  <style>

  </style>
</head>
<body>
<div>
  <form>
    제목  <input id="x-title" type="text"><br>
    작성자 <input id="x-name" type="number"><br> <!--나중에 이름으로 수정해야함-->
    활동지역 <input id="x-activeLocal" type="number"><br> <!--나중에 이름으로 수정해야함-->
    관심활동 <input id="x-purpose" type="number"><br> <!--나중에 이름으로 수정해야함-->
    내용 <textarea id="x-content" col="960" rows="20"></textarea><br>
    <button id="x-add-btn" type="button">등록</button>
    <button id="x-cancel-btn" type="button">취소</button><br>    
  </form>
</div>

<script>
  let xTitle = document.querySelector("#x-title");
  let xName = document.querySelector("#x-name");
  let xActiveLocal = document.querySelector("#x-activeLocal");
  let xPurpose = document.querySelector("#x-purpose");
  let xContent = document.querySelector("#x-content");

  document.querySelector("#x-add-btn").onclick = function() {
    if (xTitle.value == "" || xContent.value == "") {
      window.alert("필수 입력 항목이 비어 있습니다.");
      return;
    }

    fetch(`/recruit/add?title=${xTitle.value}&membNo=${xName.value}&actLocalNo=${xActiveLocal.value}&purposeNo=${xPurpose.value}&content=${xContent.value}`)
      .then(function(response){
        return response.text();
      })
      .then(function(text){
        location.href = "index.html";
      });


  }  

  //취소버튼
  document.querySelector("#x-cancel-btn").onclick = function() {
    window.location.href = "index.html";
  };

</script>
</body>
</html>