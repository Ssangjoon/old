<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- namespace => 인터페이스의 패키지 및 이름과 namespace의 이름이 일치해야 한다. -->
<mapper namespace="com.bts.yomojomo.dao.SignDao">

	<resultMap type="sign" id="signMap">
		<id column="memb_no" property="no" />
		<result column="name" property="memberName"/>
		<result column="pwd" property="passWord"/>
		<result column="email" property="email"/>
		<result column="tel" property="tel" />
		<result column="post_no" property="postNo" />
		<result column="base_addr" property="baseAddress" />
		<result column="addr" property="address" />
		<result column="type" property="type" />
		<result column="unsubscribe" property="unsubscribe" />
		<result column="status" property="status" />
		<result column="stop_dt" property="stopDate" />
	</resultMap>

	<insert id="insert" parameterType="sign">
		insert into gms_memb(name, pwd, email, tel, post_no, base_addr, addr, type)
		values(#{memberName}, #{password}, #{email}, #{tel}, #{postNo}, #{baseAddress}, #{address} ,#{type})
	</insert>

	<select id="findByEmailAndPassword" resultMap="signMap">
		select memb_no, name, email from gms_memb 
		where email=#{email} and pwd=#{password}
	</select>
</mapper>








