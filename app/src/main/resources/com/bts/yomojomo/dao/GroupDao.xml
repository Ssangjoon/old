<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bts.yomojomo.dao.GroupDao">

	<!-- 테이블의 컬럼과 객체필드를 연결한다. -->
	<resultMap type="Group" id="GroupMap">
		<id column="g_no" property="no" />
		<result column="act_local_no" property="activeLocalNo" />
		<result column="pups_no" property="purposeNo" />
		<result column="name" property="GroupName" />
		<result column="reg_dt" property="registDate" />
		<result column="logo" property="logo" />
		<result column="intro" property="intro" />
		<result column="max_cnt" property="maxCount" />
		<result column="view_cnt" property="viewCount" />
	</resultMap>
	

	<select id="findAll" resultMap="GroupMap">
		select
		g_no,
		act_local_no,
		pups_no,
		name,
		reg_dt,
		logo,
		intro,
		max_cnt,
		view_cnt
		from
		gms_group
		order by
		g_no desc
	</select>
	
	

	<select id="findByNo" resultMap="GroupMap" parameterType="int">
		select
		g_no,
		act_local_no,
		pups_no,
		name,
		reg_dt,
		logo,
		intro,
		max_cnt,
		view_cnt
		from
		gms_group
		where
		g_no=#{no}
	</select>

	<insert id="insert" parameterType="Group">
		insert into gms_group (
		act_local_no,
		pups_no,
		name,
		logo,
		intro)
		values(#{activeLocalNo}, #{purposeNo}, #{GroupName}, #{logo}, #{intro});
	</insert>

	<update id="update" parameterType="Group">
		update gms_group set
		g_no = #{no},
		act_local_no = #{actlocalno},
		pups_no = #{pupsno},
		name = #{name},
		logo = #{logo},
		intro = #{intro},
		fee = #{fee}
		where
		g_no = #{no}
	</update>

	<select id="countAll" parameterType="int">
		select count(*) from gms_group
	</select>

	<delete id="delete" parameterType="int">
		delete from gms_group
		where
		g_no = #{no}
	</delete>
</mapper>