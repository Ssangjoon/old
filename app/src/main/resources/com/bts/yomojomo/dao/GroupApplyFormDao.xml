<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bts.yomojomo.dao.GroupApplyFormDao">

	<!-- 테이블의 컬럼과 객체필드를 연결한다. -->
	<resultMap type="GroupApplyForm" id="GroupApplyFormMap">
		<association property="joinMember" javaType="JoinMember">
      <association property="group" javaType="Group"> <!-- gms_group -->
        <id column = "gno" property="no"/>
        <result column="gname" property="GroupName"/>
      </association>
      <association property="memberGrade" javaType="MembGrade"> <!-- gms_memb_grade -->
        <id column = "mgno" property="gradeNo"/>
        <result column="mgname" property="gradeName"/>
      </association>
    </association>
     <association property="member" javaType="Member"> <!-- gms_member -->
       <id column = "mno" property="no"/>
       <result column="mname" property="memberName"/>
     </association>
	</resultMap>
	


	<select id="getmasterUser" resultMap="GroupApplyFormMap">
		select
        memb_no mno
    from
        gms_join_memb
    where
        g_no=#{joinMember.group.no} and g_memb_grd_no=1
	</select>
	
<!-- 회원 그룹 리스트 
<select id="memberGroupList" resultMap="MainPageMap" parameterType="int">
       select
        g.g_no,
        g.act_local_no,       
        g.pups_no,
        g.name,
        g.reg_dt,
        g.logo,
        g.intro,
        g.max_cnt,
        g.view_cnt,
        g.g_delete_stat,
        jm.g_memb_out_stat
    from
        gms_join_memb jm
        inner join gms_group g on jm.g_no = g.g_no
    where
        jm.memb_no = #{no} and g.g_delete_stat = 1 and g_memb_out_stat=1
    order by
        g.g_no asc 
        limit 8;
  </select>
  -->
	
</mapper>